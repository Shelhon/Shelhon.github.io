<!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-Hans"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon16.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="学习笔记"><meta name="description" content="title:  数据库设计date: 2018-08-24 10:54:01tags:  数据库 学习categories: 学习笔记keywords:updated:   设计与应用开发内容  一、关系数据理论二、数据库设计三、数据库编程"><meta name="keywords" content="学习笔记"><meta property="og:type" content="article"><meta property="og:title" content="无问西东"><meta property="og:url" content="https://www.shelhon.cn/posts/0.html"><meta property="og:site_name" content="无问西东"><meta property="og:description" content="title:  数据库设计date: 2018-08-24 10:54:01tags:  数据库 学习categories: 学习笔记keywords:updated:   设计与应用开发内容  一、关系数据理论二、数据库设计三、数据库编程"><meta property="og:locale" content="zh-Hans"><meta property="og:image" content="https://www.shelhon.cn/posts/0/1.png"><meta property="og:image" content="https://www.shelhon.cn/posts/0/2.png"><meta property="og:image" content="https://www.shelhon.cn/posts/0/3.png"><meta property="og:image" content="https://www.shelhon.cn/posts/0/4.png"><meta property="og:image" content="https://www.shelhon.cn/posts/0/5.png"><meta property="og:image" content="https://www.shelhon.cn/posts/0/6.png"><meta property="og:image" content="https://www.shelhon.cn/posts/0/7.png"><meta property="og:image" content="https://www.shelhon.cn/posts/0/8.png"><meta property="og:image" content="https://www.shelhon.cn/posts/0/9.png"><meta property="og:updated_time" content="2018-08-24T11:08:07.426Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="无问西东"><meta name="twitter:description" content="title:  数据库设计date: 2018-08-24 10:54:01tags:  数据库 学习categories: 学习笔记keywords:updated:   设计与应用开发内容  一、关系数据理论二、数据库设计三、数据库编程"><meta name="twitter:image" content="https://www.shelhon.cn/posts/0/1.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!0,scrollpercent:!0,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://www.shelhon.cn/posts/0.html"><title> | 无问西东</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?3275656b1c327868bf311aa7c5fdabd2";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div> <a href="https://github.com/Shelhon/Shelhon.github.io" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#64ceaa;color:#fff;position:absolute;top:0;border:0;left:0;transform:scale(-1,1)" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">无问西东</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">糊涂脸水聪明枕</h1></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> 归档</a></li><li class="menu-item menu-item-commonweal"><a href="/404.html/" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br> 公益404</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://www.shelhon.cn/posts/0.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Qsx"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="无问西东"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-24T10:54:01+08:00">2018-08-24</time></span> <span class="post-updated">&nbsp; | &nbsp; 更新于 <time itemprop="dateUpdated" datetime="2018-08-24T19:08:07+08:00" content="2018-08-24">2018-08-24</time></span> <span class="post-meta-divider">|</span><span class="page-pv"><i class="fa fa-file-o"></i><span class="busuanzi-value" id="busuanzi_value_page_pv"></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">字数统计&#58;</span> <span title="字数统计">3,835</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">14</span></div></div></header><div class="post-body" itemprop="articleBody"><hr><p>title: 数据库设计<br>date: 2018-08-24 10:54:01<br>tags:</p><ul><li>数据库</li><li>学习<br>categories: 学习笔记<br>keywords:<br>updated:</li></ul><hr><center><strong>设计与应用开发内容</strong></center><p>一、关系数据理论<br>二、数据库设计<br>三、数据库编程</p><hr><a id="more"></a><h1 id="关系数据理论"><a href="#关系数据理论" class="headerlink" title="关系数据理论"></a>关系数据理论</h1><h2 id="问题的提出"><a href="#问题的提出" class="headerlink" title="问题的提出"></a>问题的提出</h2><p>一 、关系模式</p><p>关系模式是一个五元组。<br> R &lt; U，D ，dom , F &gt;</p><p>（1）关系名R，它是符号化的元组语义；</p><p>（2）一组属性U；</p><p>（3）属性组U中属性所来自的域D；</p><p>（4）属性到域的映射dom；</p><p>（5）属性组U上的一组数据依赖F。即属性值间的相互关连</p><p>由于（3），（4）对模式设计关系不大，因此在本章中把关系模式看作是一个三元组： R &lt;U，F&gt;</p><p>当且仅当U上的一个关系 r 满足 F 时，r 称为关系模式R&lt;U，F&gt;的一个关系。</p><p>第一范式（1NF）：关系模式中每一个分量必须是不可分的数据项。满足了这个条件的就属于第一范式（1NF）。</p><p>二、 数据依赖</p><p>数据依赖是数据库模式设计的关键，它是一个关系内部属性与属性之间的一种约束关系，这种约束关系是通过属性间的值是否相等体现出来的数据间的相互关系。<br>它是现实世界属性间相互联系的抽象，是数据内在的性质，是语义的体现。<br>数据依赖有很多类型，其中最重要的是：<br>函数依赖（Functional Dependency，简记为FD）<br>多值依赖（Multivalued Dependency，简记为MVD）</p><p>其中，函数依赖起着核心的作用，是模式分解和模式设计的基础，范式是模式分解的标准。</p><blockquote><p>比如描述一个学生的关系，可以有学号（SNO），姓名（SNAME），系名（SDEPT）等几个属性。由于一个学号只对应一个学生，一个学生只在一个系学习。因而当“学号”值确定之后，姓名和该生所在系的值也就被唯一地确定了。就象自变量x确定之后，相应的函数值f(x)也就唯一地确定了一样，称SNO函数决定SNAME和SDEPT，或者说SNAME，SDEPT函数依赖于SNO，记为：SNO→SNAME，SNO→SDEPT。</p></blockquote><p>例 现在要建立一个数据库来描述学生的一些情况，面临的对象有：<br>单一的关系模式<br>Student（U,F）</p><p> U={SNO，SDEPT，MN，CNAME，G}</p><p>SNO 学号，SDEPT 系，MN 系负责人，CNAME 课程名，G 成绩</p><p>由现实世界的已知事实得知：</p><p>①一个系有若干学生，但一个学生只属于一个系；</p><p>②一个系只有一名（正职）负责人；</p><p>③一个学生可以选修多门课程，每门课程有若干学生选修；</p><p>④每个学生学习每一门课程有一个成绩；</p><p>于是得到属性组U上的一组函数依赖：</p><p> F={SNO→SDEPT，SDEPT→MN，（SNO，CNAME）→G}</p><p>这组函数依赖如图</p> <img src="/posts/0/1.png"><p>如果只考虑函数依赖这一种数据依赖，就得到了一个描述学校的数据库模式S&lt;U,F&gt;，它由一个单一的关系模式构成。这个模式有下述三个“毛病”：</p><p>（1）<strong>插入异常 :</strong>如果一个系刚成立尚无学生，或者虽然有了学生但尚未安排课程。那么就无法把这个系及其负责人的信息存入数据库。</p><p>（2）<strong>删除异常:</strong> 如果某个系的学生全部毕业了，在删除该系学生选修课程的同时，把这个系及其负责人的信息也丢掉了。</p><p>（3）<strong>冗余太大</strong>。比如，每一个系负责人的姓名要与该系每一个学生的每一门功课的成绩出现的次数一样多。这样，一方面浪费存储，另一方面系统要付出很大的代价来维护数据库的完整性。比如某系负责人更换后，就必须逐一修改有关的每一个元组。</p><p>由于上述三个“毛病”，它是一个“不好”的数据库模式。一个“好”的模式应当不会发生插入异常和删除异常、冗余应尽可能少。</p><p>这个单一的模式改造一下，分成三个关系模式：</p><p>S（SNO，SDEPT，SNO→SDEPT）；</p><p>SG（SNO，CNAME，G，（SNO，CNAME）→G）；</p><p>DEPT（SDEPT，MN，SDEPT→MN）；</p><p>这三个模式就不会发生插入异常、删除异常的毛病，数据的冗余也得到了控制。</p><hr><h2 id="规范化"><a href="#规范化" class="headerlink" title="规范化"></a>规范化</h2><p>规范化理论正是用来改造关系模式的，通过分解关系模式来消除其中不合适的数据依赖，以解决插入异常、删除异常、更新异常和数据冗余问题。</p><h3 id="函数依赖"><a href="#函数依赖" class="headerlink" title="函数依赖"></a>函数依赖</h3><p>一、定义<br>设R(U)是一个属性集U上的关系模式，X和Y是U的子集。<br> 若对于R(U)的任意一个可能的关系 r，r 中不可能存在两个元组在X上的属性值相等， 而在Y上的属性值不等， 则称 “X函数确定Y” 或 “Y函数依赖于X”，记作X→Y。</p><ul><li>X称为这个函数依赖的决定属性集(Determinant)。</li><li>Y = f(x)</li></ul><p>说明：</p><ul><li>函数依赖不是指关系模式R的某个或某些关系实例满足的约束条件，而是指R的所有关系实例均要满足的约束条件。</li><li>函数依赖是语义范畴的概念，只能根据数据的语义来确定函数依赖。例如：“姓名→年龄”这个函数依赖只有在不允许有同名人的条件下成立。</li><li>数据库设计者可以对现实世界作强制的规定。例如规定不允许同名人出现，函数依赖“姓名→年龄”成立。所插入的元组必须满足规定的函数依赖，若发现有同名人存在， 则拒绝装入该元组。</li></ul><p>例如<br>Student ( Sno, Sname, Ssex, Sage, Sdept ) 中<br> 假设不允许学生重名，则有:<br> Sno → Ssex， Sno → Sage , Sno → Sdept，<br> Sno ← → Sname, Sname → Ssex， Sname → Sage<br> Sname → Sdept<br> 但Ssex ！→ Sage<br> 若X→Y，并且Y→X, 则记为X← →Y。<br> 若Y不函数依赖于X, 则记为X ！→Y。</p><p>二、术语和记号：</p><ul><li><p>X→Y，但Y⊈ X则称X→Y是 <strong>非平凡的函数依赖</strong>。若不特别声明，总是讨论非平凡的函数依赖。</p></li><li><p>X→Y，但Y⊆X则称X→Y是 <strong>平凡的函数依赖</strong>。</p></li><li><p>若X→Y，则X叫做<strong>决定因素</strong>（Determinant）。</p></li><li><p>若X→Y，Y→X，则记作X←→Y。</p></li><li><p>若Y函数不依赖于X，则记作X ！→Y。</p></li></ul><p>例：在关系SC（Sno, Cno, Grade）中，</p><p> 非平凡函数依赖： (Sno, Cno) → Grade<br> 平凡函数依赖：　 (Sno, Cno) → Sno<br>　　　　　　　　 (Sno, Cno) → Cno</p><p>三、完全依赖和部分依赖</p> <img src="/posts/0/2.png"><p>　<br> 　 　　 　 　 ｐ<br>而(Sno ,Cno )→Sdept是部分函数依赖，因为Sno→Sdept成立，而Sno是(Sno ,Cno )真子集</p><p>四、传递函数依赖</p> <img src="/posts/0/3.png"><hr><h3 id="码"><a href="#码" class="headerlink" title="码"></a>码</h3><p> 设K为关系模式R&lt;U,F&gt;中的属性或属性组合。</p><ul><li>若K → U，则K称为R的一个候选码（Candidate Key）。</li><li>若关系模式R有多个候选码，则选定其中的一个作为主码（Primary key）。</li><li>包含在任何一个候选码中的属性，称为主属性（Prime attribute）；</li><li>不包含在任何码中的属性，称为非主属性（Nonprime attribute）或非码属性（Non-key attribute）。</li></ul><p>例 :关系模式S（<u>Sno</u>，Sdept，Sage）中单个属性Sno是码，用下横线表示出来。SC（<u>Sno，Cno</u>，Grade）中属性组合（Sno，Cno）是码</p><p> 极端的情况是：整个属性组U是码，即所有属性当作一个码。若关系中只有一个候选码,且这个候选码中包含全部属性,则该候选码为全码，称为全码（All-key）。</p><p>例：关系模式R（<u>P，W，A</u>），属性P表示演奏者，W表示作品，A表示听众。假设一个演奏者可以演奏多个作品,某一作品可被多个演奏者演奏。听众也可以欣赏不同的演奏者的不同作品，这个关系的码为（P，W，A），即All-Key。</p><p>关系模式 R 中属性或属性组X 并非 R的码，但 X 是另一个关系模式的码，则称 X 是R 的外部码（Foreign key），也称外码。<br>主码和外码一起提供了表示关系间联系的手段。 例如上面的关系模式S于SC的联系就是通过Sno来体现的。</p><p>例如 在SC（Sno，Cno，Grade）中，Sno不是码，但Sno是关系模式S（Sno，Sdept，Sage）的码，则Sno是关系模式SC的外部码。</p><hr><h3 id="范式"><a href="#范式" class="headerlink" title="范式"></a>范式</h3><p>关系数据库中的关系必须满足一定的要求。满足不同程度要求的为不同范式。<br>范式的种类包括：</p><ul><li>满足最低要求的，称为第一范式(1NF)</li><li>在第一范式中，满足进一步要求的，称为第二范式(2NF)</li><li>以此类推：第三范式(3NF)</li><li>BC范式(BCNF)</li><li>第四范式(4NF)</li><li>第五范式(5NF)<br>某一关系模式R为第n范式，可简记为R∈nNF</li></ul><p>5NF⊂4NF⊂BCNF⊂3NF⊂2NF⊂1NF</p><p>各模式之间的联系如下图</p> <img src="/posts/0/4.png"><p>一个低一级范式的关系模式，通过模式分解可以转换为若干个高一级范式的关系模式的集合，这种过程就叫规范化</p><p>一、 第一范式（1NF）</p><ul><li><p>关系中的每个分量必须是不可分的数据项。<br>满足了这个条件的关系模式R就属于第一范式（1NF），记作 R∈1NF。</p></li><li><p>第一范式是对关系模式的最起码的要求。<br>不满足第一范式的数据库模式不能称为关系数据库。</p></li></ul><p>满足第一范式的关系模式并不一定是一个好的关系模式。</p><p>例如 关系模式 SLC（Sno, Sdept, Sloc, Cno, Grade）<br> Sloc为学生住处，假设每个系的学生住在同一个地方。</p> <img src="/posts/0/5.png"><p>SLC的码为(Sno, Cno)<br>非主属性Sdept和Sloc部分函数依赖于码(Sno, Cno)<br>SLC ∈1NF ，但是SLC并不是一个好的关系模式。</p><p>①插入异常<br>假设Sno＝’95102’，Sdept＝’IS’，Sloc＝’N’ 的学生还未选课，因课程号是主属性，因此该学生的信息无法插入SLC。<br>②删除异常<br>假定某个学生本来只选修了3号课程这一门课。现在因身体不适，他连3号课程也不选修了。因课程号是主属性，此操作将导致该学生信息的整个元组都要删除。<br>③数据冗余度大<br>如果一个学生选修了10门课程，那么他的Sdept和Sloc值就要重复存储10次。<br>④修改复杂<br>例如学生转系，在修改此学生元组的Sdept值的同时，还可能需要修改住处（Sloc）。如果这个学生选修了n门课，则必须无遗漏地修改n个元组中全部Sdept、Sloc信息。</p><p>造成这些问题的原因是：Sdept、 Sloc部分函数依赖于码。</p><p>解决方法：将SLC分解为两个关系模式，以消除这些部分函数依赖</p><p><strong>关系模式分解应当具有无损连接性和依赖保持性</strong></p><p>SC（Sno， Cno， Grade）<br>SL（Sno， Sdept， Sloc）</p> <img src="/posts/0/6.png"><p>二、第二范式（2NF）</p><p>定义 ：若关系模式R∈1NF，并且每一个非主属性都完全函数依赖于R的码，则R∈2NF。</p><p>例<br>SLC(Sno, Sdept, Sloc, Cno, Grade) ∈1NF<br>SLC(Sno, Sdept, Sloc, Cno, Grade) ∉ 2NF<br>SC（Sno， Cno， Grade） ∈ 2NF<br>SL（Sno， Sdept， Sloc） ∈ 2NF</p><p>采用投影分解法将一个1NF的关系分解为多个2NF的关系，可以在一定程度上减轻原1NF关系中存在的插入异常、删除异常、数据冗余度大、修改复杂等问题。<br>但是，将一个1NF关系分解为多个2NF的关系，并不能完全消除关系模式中的各种异常情况和数据冗余。</p><p>三、第三范式（3NF）</p> <img src="/posts/0/7.png"> <img src="/posts/0/8.png"> <img src="/posts/0/9.png"><p>如果R∈3NF，则R∈2NF。</p><p>采用投影分解法将一个2NF的关系分解为多个3NF的关系，可以在一定程度上解决原2NF关系中存在的插入异常、删除异常、数据冗余度大、修改复杂等问题。<br>但是，将一个2NF关系分解为多个3NF的关系后，并不能完全消除关系模式中的各种异常情况和数据冗余。</p><p>四、BCNF</p><p>BCNF是修正的第三范式，有时也称为扩充的第三范式。</p><p>设关系模式R&lt;U，F&gt;∈1NF，如果对于R的每个函数依赖X→Y，若Y不属于X，则X必含有候选码，那么R∈BCNF。</p><p>也就是说，关系模式R&lt;U,F&gt;中，若每一个决定因素都包含码</p><p>若R∈BCNF，则：</p><ul><li>每一个决定属性集（因素）都包含（候选）码</li><li>R中的所有属性（主属性和非主属性）都完全函数依赖于码</li><li>R∈3NF（由定义可知，排除了任何属性对码的传递依赖和部分依赖）</li></ul><p>但是，若R∈3NF，R不一定∈BCNF</p><p>例 在关系模式C（Cno，Cname，Pcno）中，只有一个码Cno。</p><ul><li>由于没有任何属性对Cno部分依赖或传递依赖，所以C∈3NF；</li><li>同时C中Cno是唯一的决定因素，所以C∈BCNF。</li></ul><p>例 关系模式 S（Sno, Sname, Sdept, Sage）中，假定Sname具有唯一性，那么S就有两个码（Sno和Sname），这两个码都由单个属性组成，彼此不相交。</p><ul><li>其他属性不存在对码的传递依赖与部分依赖，所以S∈3NF；</li><li>同时S中除Sno和Sname以外没有其他决定因素，所以S∈BCNF。</li></ul><p>例 关系模式 SJP（S, J, P）中，S表示学生，J表示课程，P表示名次。每个学生选修每门课程的成绩有一定的名次，每门课程中的每一名次只有一个学生（即没有并列名次）。由语法可以得到下面的函数依赖：<br> （S, J） → P，（J, P） → S</p><p>所以（S, J）和（J, P）都可以作为候选码，这两个码各由两个属性组成，而且它们是相交的。</p><ul><li>这个关系模式中显然没有属性对码的传递依赖或部分依赖。所以SJP∈3NF；</li><li>而且除了（S, J）和（J, P）以外没有其他的决定因素，所以SJP∈BCNF。</li></ul><p>例 在关系模式STJ（S，T，J）中，S表示学生，T表示教师，J表示课程。每一教师只教一门课。每门课由若干教师教，某一学生选定某门课，就确定了一个固定的教师。某个学生选修某个教师的课就确定了所选课的名称。则有如下的函数依赖：<br>（S，J）→ T，（S，T）→ J，T → J<br>这里(S，J)和(S，T)都可以作为候选码 ，S、T、J都是主属性<br>没有任何非主属性对码的传递依赖或部分依赖，所以STJ∈3NF；<br>由于T→J，T是决定因素，而T不是候选码，所以STJ∉BCNF。</p><p>非BCNF的关系模式也可以通过分解成为BCNF。<br>可分解为ST（S，T）<br>TJ（T，J） 它们都是BCNF。</p><p>3NF和BCNF是在函数依赖的条件下对模式分解所能达到的分离程度的测度。一个模式中的关系模式如果都属于BCNF，那么在函数依赖范畴内，它已实现了彻底的分离，已消除了插入和删除的异常。3NF的“不彻底”性表现在可能存在主属性对码的部分依赖和传递依赖。</p></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>Just for fun!</div> <button id="rewardButton" disable="enable" onclick='var qr=document.getElementById("QR");"none"===qr.style.display?qr.style.display="block":qr.style.display="none"'> <span>打赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"> <img id="wechat_qr" src="/images/wechatpay.jpg" alt="Qsx 微信支付"><p>微信支付</p></div></div></div></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------<i class="fa fa-paw"></i> 文章已经到尾<i class="fa fa-paw"></i> -------------</div></div></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/posts/a6386957.html" rel="next" title="数据库学习基础篇②"><i class="fa fa-chevron-left"></i> 数据库学习基础篇②</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/posts/90c77d0c.html" rel="prev" title="数据库开发">数据库开发<i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap"> 站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Qsx"><p class="site-author-name" itemprop="name">Qsx</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">12</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/index.html"><span class="site-state-item-count">4</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/index.html"><span class="site-state-item-count">11</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/Shelhon" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:ppp00qqq@163.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="http://weibo.com/qsxmybaby" target="_blank" title="微博"><i class="fa fa-fw fa-weibo"></i> 微博</a></span><span class="links-of-author-item"><a href="https://zhihu.com/people/shelhon" target="_blank" title="知乎"><i class="fa fa-fw fa-globe"></i> 知乎</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="https://www.kofes.cn/" title="cz" target="_blank">cz</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#关系数据理论"><span class="nav-number">1.</span> <span class="nav-text">关系数据理论</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#问题的提出"><span class="nav-number">1.1.</span> <span class="nav-text">问题的提出</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#规范化"><span class="nav-number">1.2.</span> <span class="nav-text">规范化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#函数依赖"><span class="nav-number">1.2.1.</span> <span class="nav-text">函数依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#码"><span class="nav-number">1.2.2.</span> <span class="nav-text">码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#范式"><span class="nav-number">1.2.3.</span> <span class="nav-text">范式</span></a></li></ol></li></ol></li></ol></div></div></section><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">Qsx</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span class="post-meta-item-text">Site words total count&#58;</span> <span title="Site words total count">69.5k</span></div><div class="busuanzi-count"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span><span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></div></footer></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/love.js"></script></body></html>