<!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-Hans"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon16.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="学习,框架,struts2,"><meta name="description" content="主要内容   stuts2入门 struts2数据操作"><meta name="keywords" content="学习,框架,struts2"><meta property="og:type" content="article"><meta property="og:title" content="struts2学习"><meta property="og:url" content="https://www.shelhon.cn/posts/c240a0d6.html"><meta property="og:site_name" content="无问西东"><meta property="og:description" content="主要内容   stuts2入门 struts2数据操作"><meta property="og:locale" content="zh-Hans"><meta property="og:image" content="https://www.shelhon.cn/posts/c240a0d6/1.png"><meta property="og:image" content="https://www.shelhon.cn/posts/c240a0d6/2.png"><meta property="og:image" content="https://www.shelhon.cn/posts/c240a0d6/3.png"><meta property="og:image" content="https://www.shelhon.cn/posts/c240a0d6/4.png"><meta property="og:image" content="https://www.shelhon.cn/posts/c240a0d6/5.png"><meta property="og:updated_time" content="2018-08-06T06:19:37.868Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="struts2学习"><meta name="twitter:description" content="主要内容   stuts2入门 struts2数据操作"><meta name="twitter:image" content="https://www.shelhon.cn/posts/c240a0d6/1.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!0,scrollpercent:!0,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://www.shelhon.cn/posts/c240a0d6.html"><title>struts2学习 | 无问西东</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?3275656b1c327868bf311aa7c5fdabd2";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div> <a href="https://github.com/Shelhon/Shelhon.github.io" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#64ceaa;color:#fff;position:absolute;top:0;border:0;left:0;transform:scale(-1,1)" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">无问西东</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">糊涂脸水聪明枕</h1></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> 归档</a></li><li class="menu-item menu-item-commonweal"><a href="/404.html/" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br> 公益404</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://www.shelhon.cn/posts/c240a0d6.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Qsx"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="无问西东"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">struts2学习</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-31T20:56:13+08:00">2018-07-31</time></span> <span class="post-updated">&nbsp; | &nbsp; 更新于 <time itemprop="dateUpdated" datetime="2018-08-06T14:19:37+08:00" content="2018-08-06">2018-08-06</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/学习过程/" itemprop="url" rel="index"><span itemprop="name">学习过程</span></a></span></span> <span class="post-meta-divider">|</span><span class="page-pv"><i class="fa fa-file-o"></i><span class="busuanzi-value" id="busuanzi_value_page_pv"></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">字数统计&#58;</span> <span title="字数统计">4,264</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">19</span></div></div></header><div class="post-body" itemprop="articleBody"><center><font size="5"><strong>主要内容</strong></font></center><ul><li>stuts2入门</li><li>struts2数据操作</li></ul><hr><a id="more"></a><h1 id="Struts2-概述"><a href="#Struts2-概述" class="headerlink" title="Struts2 概述"></a>Struts2 概述</h1><ol><li><p>struts2框架应用javaee三层结构中的web层框架</p></li><li><p>struts2 是struts1和webwork基础上发展全新的框架、</p></li><li><p>struts2解决问题</p></li></ol> <img src="/posts/c240a0d6/1.png"><ol start="4"><li><p>struts2 版本<br> struts2-2.3.24</p></li><li><p>web层常用框架</p><ul><li>struts2</li><li>springMVC</li></ul></li></ol><h1 id="struts2-框架入门"><a href="#struts2-框架入门" class="headerlink" title="struts2 框架入门"></a>struts2 框架入门</h1><h2 id="第一个例子"><a href="#第一个例子" class="headerlink" title="第一个例子"></a>第一个例子</h2><ol><li>老规矩导入jar包</li></ol> <img src="/posts/c240a0d6/2.png"><ol start="2"><li>创建action</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloAction</span> </span>&#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment"> (1)每次访问servlet的时候，都会访问service方法</span></span><br><span class="line"><span class="comment">      - 写类继承HTTPServlet，重写类里面的方法</span></span><br><span class="line"><span class="comment"> (2)访问action的时候</span></span><br><span class="line"><span class="comment">       每次访问action默认执行execute方法 */</span> </span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"ok"</span>;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>配置action类访问路径<br>(1)、创建struts2核心配置文件<br>核心配置文件必须是固定名称和位置<br>位置必须是再src下面，名称必须是struts.xml<br>(2)、引入dtd约束</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE struts PUBLIC</span><br><span class="line">  &quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;</span><br><span class="line"> &quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;&gt;</span><br></pre></td></tr></table></figure><p>(3)、action配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"hellodemo"</span> <span class="attr">extends</span>=<span class="string">"struts-default"</span> <span class="attr">namespace</span>=<span class="string">"/"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- name: 访问名称 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"hello"</span> <span class="attr">class</span>=<span class="string">"cn.shelhon.action.HelloAction"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 配置方法的返回值到页面 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">"ok"</span>&gt;</span>/hello.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>访问路径</strong><br><a href="http://127.0.0.1:8080/struts2/hello.action" target="_blank" rel="noopener">http://127.0.0.1:8080/struts2/hello.action</a></p><p>(4) 配置struts2过滤器</p><p>在Tomcat上面运行的时候，发现一直各种报错</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">严重: Exception starting filter struts2</span><br><span class="line">java.lang.ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</span><br></pre></td></tr></table></figure><p>估计是在idea的时候，运行Tomcat时，maven依赖那里出现了问题。导入缺少了jar包，Tomcat运行不起来。最后在项目结构Artifacts里available Elements右键把里面的jar包导入到lib文件夹里。</p><p><strong>！！还有就是一定要把struts2.xml文件放到resources文件夹里</strong></p><p><strong>基本流程：</strong></p> <img src="/posts/c240a0d6/3.png"><hr><h2 id="查看源码"><a href="#查看源码" class="headerlink" title="查看源码"></a>查看源码</h2><blockquote><p>class StrutsPrepareAndExecuteFilter implements StrutsStatics, Filter</p></blockquote><p>过滤器在服务启动的时候创建，创建过滤器时候执行init方法</p><ul><li>在init方法中主要是加载配置文件<br>包含自己创建的配置文件和struts2自带的配置文件<br>主要注意struts.xml和web.xml</li></ul><h2 id="struts-配置"><a href="#struts-配置" class="headerlink" title="struts 配置"></a>struts 配置</h2><h3 id="struts2核心配置文件"><a href="#struts2核心配置文件" class="headerlink" title="struts2核心配置文件"></a>struts2核心配置文件</h3><ol><li><p>名称和位置是固定的<br>固定是在src里面，名字是struts.xml<br>但是由于用了maven，所以位置是在src的resources里面</p></li><li><p>在配置文件中主要三个标签 package、action、result，标签里面的属性</p></li></ol><h4 id="标签package"><a href="#标签package" class="headerlink" title="标签package"></a>标签package</h4><p>1、 类似于代码包，区别不同的action，要配置action，必须首先写package标签，在package里面才能 配置action</p><p>2、 package标签属性</p><p>（1）name属性</p><ul><li>name属性值跟功能本身没有关系的，</li><li>在一个配置文件中可以写多个package标签，name属性值不能相同的</li></ul><p>（2）extends属性</p><blockquote><p>extends = “struts-default”</p></blockquote><ul><li><p>属性值固定的，struts-default</p></li><li><p>写了这个属性之后，在package里面配置的类具有action功能</p></li></ul><p>（3）namespace属性</p><ul><li>namespace属性值和action标签里面的name属性值构成访问路径</li></ul><h4 id="标签action"><a href="#标签action" class="headerlink" title="标签action"></a>标签action</h4><p>1、action标签配置action访问路径</p><p>2 、action标签属性</p><p>（1）name属性</p><ul><li><p>namespace属性值和action标签里面的name属性值构成访问路径</p></li><li><p>在package标签里面写多个action标签，但是action的name属性值不能相同的</p></li></ul><p>（2）class属性</p><ul><li>action全路径</li></ul><p>（3）method属性</p><ul><li><p>比如在action里面默认执行的方法execute方法，但是在action里面写其他的方法</p></li><li><p>让action里面多个方法执行，使用method进行配置</p></li></ul><h4 id="标签result"><a href="#标签result" class="headerlink" title="标签result"></a>标签result</h4><p>1 、根据action的方法返回值，配置到不同的路径里面</p><p>2 、result标签属性</p><p>（1）name属性</p><ul><li>和方法返回值一样</li></ul><blockquote><result name="success">/hello.jsp</result></blockquote><p>（2）type属性</p><ul><li><p>配置如何到路径中（转发或者重定向）</p></li><li><p>type属性默认值 做转发操作</p></li></ul><h3 id="struts2常量配置"><a href="#struts2常量配置" class="headerlink" title="struts2常量配置"></a>struts2常量配置</h3><ol><li><p>struts2框架，帮我们实现一部分功能，struts2里面有常量，在常量里面封装一部分功能</p></li><li><p>struts2默认的常量位置（记住）</p><blockquote><p>xxxxxxx/org\apache\struts\struts2-core\2.3.24\struts2-core-2.3.24.jar!\org\apache\struts2\default.properties</p></blockquote></li><li><p>修改struts2默认常量值</p></li></ol><p>（1）常用的方式</p><ul><li>在struts.xml中进行配置<blockquote><constant name="struts.i18n.encoding" value="UTF-8"></constant></blockquote></li></ul><p>（2）还有两种方式（了解）</p><ul><li><p>在src下面创建 struts.properties，进行修改</p></li><li><p>在web.xml进行配置</p></li></ul><ol start="4"><li>介绍最常用常量</li></ol><blockquote><p>struts.i18n.encoding=UTF-8</p></blockquote><p>（1）表单提交数据到action里面，在action可以获取表单提交数据，</p><p>（2）表单提交数据有中文，有乱码问题，解决：</p><ul><li><p>post提交直接设置编码</p></li><li><p>get提交做编码转换</p></li></ul><p>（3）如果在action获取表单通过post方式提交中文，中文乱码问题帮解决了，不需要自己处理问题</p><h3 id="分模块开发"><a href="#分模块开发" class="headerlink" title="分模块开发"></a>分模块开发</h3><ol><li>单独写配置文件hello.xml，把配置文件引入到核心配置文件中</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 引入hello.xml --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">"hello.xml"</span>&gt;</span><span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这样就可以在工作的时候，大家一起协同办公</p><h3 id="action编写方式"><a href="#action编写方式" class="headerlink" title="action编写方式"></a>action编写方式</h3><ol><li>action编写有三种方式</li></ol><p>第一种 创建普通类，这个不继承任何类，不实现任何接口</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloAction</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>第二种 创建类，实现接口 Action<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//实现接口</span></span><br><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserAction</span> <span class="keyword">implements</span> <span class="title">Action</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>第三种 创建类，继承类 ActionSupport（一般使用）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//继承类</span></span><br><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonAction</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="访问action里面的方法"><a href="#访问action里面的方法" class="headerlink" title="访问action里面的方法"></a>访问action里面的方法</h3><ol><li>有三种方式实现</li></ol><p>第一种 使用action标签的method属性，在这个属性里面写执行的action的方法</p><p>第二种 使用通配符方式实现</p><p>第三种 动态访问实现（不用）</p><ol start="2"><li>演示错误</li></ol><p>（1）如果action方法有返回值，在配置文件中没有配置，出现错误</p><blockquote><p><strong>Message</strong> No result defined for action cn.shelhon.action.HelloAction and result success</p></blockquote><p>（2）在action里面的方法有返回值，如果有返回值时候类型必须是String</p><p>（3）action里面的方法可以没有返回值，没有返回值时候，在result标签不需要配置</p><ul><li><p>把方法写成void</p></li><li><p>让返回值，返回 ”none”</p></li></ul><p>在idea创建新的模块的时候，放到Tomcat上面一直没办法运行新的struts.xml的配置，然后在运行设置里面的把原来的给移除了，加上新创建的就能运行了</p><ol start="3"><li>使用action标签method属性</li></ol><p>(1). 创建action，创建多个方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookAction</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> </span>&#123;</span><br><span class="line">   <span class="comment">//添加</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"add----"</span>);</span><br><span class="line">      <span class="keyword">return</span> NONE;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//修改</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">update</span><span class="params">()</span></span>&#123;</span><br><span class="line">      System.out.printf(<span class="string">"update---"</span>);</span><br><span class="line">      <span class="keyword">return</span> NONE;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(2). 使用method配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置action的方法访问 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"demo1"</span> <span class="attr">namespace</span>=<span class="string">"/"</span> <span class="attr">extends</span>=<span class="string">"struts-default"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"method"</span> <span class="attr">class</span>=<span class="string">"cn.shelhon.method.BookAction"</span> <span class="attr">method</span>=<span class="string">"add"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"method1"</span> <span class="attr">class</span>=<span class="string">"cn.shelhon.method.BookAction"</span> <span class="attr">method</span>=<span class="string">"update"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br></pre></td></tr></table></figure><p>缺陷：action每个方法都需要配置，如果action里面有多个方法，配置很多的action</p><ol start="4"><li>使用通配符实现（重点）</li></ol><p>(1) 在action标签里面name属性，name属性值里面写 符号 * 星号</p><ul><li><p>*理解： 表示匹配任意内容</p><ul><li><p>比如访问hello，* 可以匹配到</p></li><li><p>比如访问add，* 可以匹配到</p></li></ul></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置通配符方法 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"tongpei"</span> <span class="attr">extends</span>=<span class="string">"struts-default"</span> <span class="attr">namespace</span>=<span class="string">"/"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- name属性值里面要写一个符号 *</span></span><br><span class="line"><span class="comment">(1)执行 action里面的add方法，访问book_add </span></span><br><span class="line"><span class="comment">(2)执行 action里面的update方法，访问book_update 上面两个路径使用book_*可以匹配到 </span></span><br><span class="line"><span class="comment">--&gt;</span>  </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"book_*"</span> <span class="attr">method</span>=<span class="string">"&#123;1&#125;"</span> <span class="attr">class</span>=<span class="string">"cn.shelhon.method.BookAction"</span>&gt;</span><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这种方法的话，访问就是用book_add.action ,或者book_update.action来实现<br>如果name的属性值=”*”的话，那么访问就是输入add.action，或者update.action就可以实现。</p> <img src="/posts/c240a0d6/4.png"><hr><h2 id="结果页面配置"><a href="#结果页面配置" class="headerlink" title="结果页面配置"></a>结果页面配置</h2><ol><li><p>result标签配置action方法的返回值到不同的路径里面</p></li><li><p>创建两个action，执行默认的方法execute方法，让两个action的方法都返回success，返回success之后，配置到同一个页面里面</p></li></ol><p>（1）如果多个action，方法里面返回值相同的，到页面也是相同的，这个时候可以使用全局结果页面配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"demo1"</span> <span class="attr">extends</span>=<span class="string">"struts-default"</span> <span class="attr">namespace</span>=<span class="string">"/"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"book"</span> <span class="attr">class</span>=<span class="string">"cn.shelhon.action.BookAction"</span> <span class="attr">method</span>=<span class="string">"execute"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">"success"</span>&gt;</span>/hello.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"orders"</span> <span class="attr">class</span>=<span class="string">"cn.shelhon.action.OrdersAction"</span> <span class="attr">method</span>=<span class="string">"execute"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">"success"</span>&gt;</span>/hello.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br></pre></td></tr></table></figure><p>修改后代码<br></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"demo1"</span> <span class="attr">extends</span>=<span class="string">"struts-default"</span> <span class="attr">namespace</span>=<span class="string">"/"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 全局结果页面配置 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">global-results</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">"success"</span>&gt;</span>hello.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">global-results</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"book"</span> <span class="attr">class</span>=<span class="string">"cn.shelhon.action.BookAction"</span> <span class="attr">method</span>=<span class="string">"execute"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"orders"</span> <span class="attr">class</span>=<span class="string">"cn.shelhon.action.OrdersAction"</span> <span class="attr">method</span>=<span class="string">"execute"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>但是要注意的是，这个全局变量是在package里面用的</p><ol start="3"><li>局部结果页面</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"book"</span> <span class="attr">class</span>=<span class="string">"cn.shelhon.action.BookAction"</span> <span class="attr">method</span>=<span class="string">"execute"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">"success"</span>&gt;</span>/hello.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果同时配置了局部和全局结果页面，最后以局部变量为准</p><h2 id="Result标签的type属性"><a href="#Result标签的type属性" class="headerlink" title="Result标签的type属性"></a>Result标签的type属性</h2><ol><li><p>result标签里面除了name属性之外，还有一个属性 type属性<br>type属性：如何到路径里面（转发还是重定向）</p></li><li><p>type属性值<br>（1）默认值，做转发操作，值是 dispatcher<br>就是说在浏览器上面的地址还是看到<br><a href="http://localhost:8080/struts2Day02/book.action" target="_blank" rel="noopener">http://localhost:8080/struts2Day02/book.action</a><br>但是实际内容是hello.jsp的内容<br>（2）做重定向操作，值是 redirect<br>输入<a href="http://localhost:8080/struts2Day02/book.action" target="_blank" rel="noopener">http://localhost:8080/struts2Day02/book.action</a><br>然后链接变成了<a href="http://localhost:8080/hello.jsp" target="_blank" rel="noopener">http://localhost:8080/hello.jsp</a><br>（3）上面两个值dispatcher、redirect，这两个值一般针对到页面中配置</p></li><li><p>配置到其他的action里面</p><ul><li>chain：转发到action，一般不用，缓存问题<br>输入<a href="http://localhost:8080/struts2Day02/book.action" target="_blank" rel="noopener">http://localhost:8080/struts2Day02/book.action</a><br>链接不变，但是实际内容已经是orders的内容</li><li>redirectAction：重定向到action<br>比如输入<a href="http://localhost:8080/struts2Day02/book.action" target="_blank" rel="noopener">http://localhost:8080/struts2Day02/book.action</a><br>链接变成<a href="http://localhost:8080/orders.action" target="_blank" rel="noopener">http://localhost:8080/orders.action</a></li></ul></li></ol><h2 id="Action获取表单提交数据"><a href="#Action获取表单提交数据" class="headerlink" title="Action获取表单提交数据"></a>Action获取表单提交数据</h2><ol><li><p>之前web阶段，提交表单到servlet里面，在servlet里面使用request对象里面的方法获取，getParameter，getParameterMap</p></li><li><p>提交表单到action，但是action没有request对象，不能直接使用request对象</p></li><li><p>action获取表单提交数据主要三种方式<br>（1）使用ActionContext类<br>（2）使用ServletActionContext类<br>（3）使用接口注入方式(一般不用)</p></li></ol><h3 id="使用ActionContext类获取"><a href="#使用ActionContext类获取" class="headerlink" title="使用ActionContext类获取"></a>使用ActionContext类获取</h3><p><strong>Map<string object=""> getParameters()</string></strong> : 返回一个包含所有HTTPSServletRequest参数信</p><ul><li>因为这方法不是静态的方法，所以需要创建ActionContext类的对象</li><li>这个ActionContext不是new出来的</li></ul><p><strong>static ActionContext getContext()</strong> :获取当前线程的ActionContext对象</p><ol><li>具体演示</li></ol><p>（1）创建表单，提交表单到action里面</p><p>（2）在action使用ActionContext获取数据</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">   <span class="comment">// 第一种方式 使用ActionContext类获取</span></span><br><span class="line"> <span class="comment">// 1获取Action Context</span></span><br><span class="line">  ActionContext context =ActionContext.getContext();</span><br><span class="line">   <span class="comment">//2 调用方法得到表单数据</span></span><br><span class="line"> <span class="comment">// key是表单输入项的name属性值，value值是输入的值 </span></span><br><span class="line"> Map&lt;String,Object&gt; map = context.getParameters();</span><br><span class="line">   Set&lt;String&gt; keys =map.keySet();</span><br><span class="line">   <span class="keyword">for</span> (String key :keys)&#123;</span><br><span class="line">      <span class="comment">//根据key得到value</span></span><br><span class="line"> <span class="comment">//数据形式：因为输入项里面可能有复选的情况</span></span><br><span class="line">  Object[] obj = (Object[]) map.get(key);</span><br><span class="line">      System.out.println(Arrays.toString(obj));</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> NONE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"demo2"</span> <span class="attr">namespace</span>=<span class="string">"/"</span> <span class="attr">extends</span>=<span class="string">"struts-default"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"form1"</span> <span class="attr">class</span>=<span class="string">"cn.shelhon.action.form.Form1Demo"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="使用ServletActionContext类获取"><a href="#使用ServletActionContext类获取" class="headerlink" title="使用ServletActionContext类获取"></a>使用ServletActionContext类获取</h3><img src="/posts/c240a0d6/5.png"><p>调用类里面静态方法，得到request对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">   <span class="comment">//第一种方式，使用ServletActionContext类获取</span></span><br><span class="line"> <span class="comment">//1使用ServletActionContext获取request对象</span></span><br><span class="line">  HttpServletRequest request = ServletActionContext.getRequest();</span><br><span class="line">   String username = request.getParameter(<span class="string">"username"</span>);</span><br><span class="line">   String password = request.getParameter(<span class="string">"password"</span>);</span><br><span class="line">   String address = request.getParameter(<span class="string">"address"</span>);</span><br><span class="line">   System.out.println(username+password+address);</span><br><span class="line">   <span class="keyword">return</span> NONE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="使用接口注入（了解）"><a href="#使用接口注入（了解）" class="headerlink" title="使用接口注入（了解）"></a>使用接口注入（了解）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Form3Demo</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> <span class="keyword">implements</span> <span class="title">ServletRequestAware</span> </span>&#123;</span><br><span class="line">   <span class="comment">//使用接口方式</span></span><br><span class="line"><span class="keyword">private</span> HttpServletRequest request;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setServletRequest</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.request=request;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">      String username = request.getParameter(<span class="string">"username"</span>);</span><br><span class="line">      String password = request.getParameter(<span class="string">"password"</span>);</span><br><span class="line">      String address = request.getParameter(<span class="string">"address"</span>);</span><br><span class="line">      System.out.println(username+password+address);</span><br><span class="line">      <span class="keyword">return</span> NONE;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="在action操作域对象"><a href="#在action操作域对象" class="headerlink" title="在action操作域对象"></a>在action操作域对象</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//操作三个域 // 1 request域 </span></span><br><span class="line">HttpServletRequest request = ServletActionContext.getRequest();</span><br><span class="line">request.setAttribute(<span class="string">"req"</span>,<span class="string">"reqValue"</span>);</span><br><span class="line"><span class="comment">//2 session域 </span></span><br><span class="line">HttpSession session = request.getSession();</span><br><span class="line">session.setAttribute(<span class="string">"sess"</span>,<span class="string">"sessValue"</span>);</span><br><span class="line"><span class="comment">//3 ServletContext域 </span></span><br><span class="line">ServletContext context = ServletActionContext.getServletContext();</span><br><span class="line">context.setAttribute(<span class="string">"contextname"</span>,<span class="string">"contextValue"</span>);</span><br><span class="line"><span class="keyword">return</span> NONE;</span><br></pre></td></tr></table></figure><h2 id="Struts2封装获取表单数据方式"><a href="#Struts2封装获取表单数据方式" class="headerlink" title="Struts2封装获取表单数据方式"></a>Struts2封装获取表单数据方式</h2><h3 id="原始方式获取表单封装到实体类对象"><a href="#原始方式获取表单封装到实体类对象" class="headerlink" title="原始方式获取表单封装到实体类对象"></a>原始方式获取表单封装到实体类对象</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">   <span class="comment">// 使用servletActionContext获取表单数据封装到实体类对象里面</span></span><br><span class="line"> <span class="comment">// 1获取表单数据  HttpServletRequest request = ServletActionContext.getRequest();</span></span><br><span class="line">   String username = request.getParameter(<span class="string">"username"</span>);</span><br><span class="line">   String password = request.getParameter(<span class="string">"password"</span>);</span><br><span class="line">   String address = request.getParameter(<span class="string">"address"</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//2 把数据封装到实体类对象里面</span></span><br><span class="line">  User user = <span class="keyword">new</span> User();</span><br><span class="line">   user.setUsername(username);</span><br><span class="line">   user.setPassword(password);</span><br><span class="line">   user.setAddress(address);</span><br><span class="line">   System.out.println(user);</span><br><span class="line">   <span class="keyword">return</span> NONE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> String username;</span><br><span class="line">   <span class="keyword">private</span> String password;</span><br><span class="line">   <span class="keyword">private</span> String address;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> username;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.username = username;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> password;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.password = password;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> address;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.address = address;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"User&#123;"</span> +</span><br><span class="line">            <span class="string">"username='"</span> + username + <span class="string">'\''</span> +</span><br><span class="line">            <span class="string">", password='"</span> + password + <span class="string">'\''</span> +</span><br><span class="line">            <span class="string">", address='"</span> + address + <span class="string">'\''</span> +</span><br><span class="line">            <span class="string">'&#125;'</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="属性封装"><a href="#属性封装" class="headerlink" title="属性封装"></a>属性封装</h3><ol><li>实现过程<br>（1）使用表达式封装可以把表单数据封装到实体类对象里面</li></ol><p>第一步 在action里面声明实体类<br></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"data1"</span> <span class="attr">class</span>=<span class="string">"cn.shelhon.data.DataDemo1Action"</span>&gt;</span> <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>第二步 生成实体类变量的set和get方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataDemo1Action</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> </span>&#123;</span><br><span class="line"><span class="comment">//定义变量</span></span><br><span class="line"> <span class="comment">//变量的名称和表单的name属性一样</span></span><br><span class="line">  <span class="keyword">private</span> String username;</span><br><span class="line">   <span class="keyword">private</span> String password;</span><br><span class="line">   <span class="keyword">private</span> String address;</span><br><span class="line">   <span class="comment">// 生成变量的set和get方法   </span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> username;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.username = username;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> password;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">      System.out.println(username+<span class="string">" "</span>+password+<span class="string">" "</span>+address);</span><br><span class="line">      <span class="keyword">this</span>.password = password;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> address;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.address = address;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> NONE;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="模型驱动封装（重点）"><a href="#模型驱动封装（重点）" class="headerlink" title="模型驱动封装（重点）"></a>模型驱动封装（重点）</h3><ol><li><p>使用模型驱动方式，可以直接把表单数据封装到实体类对象里面</p></li><li><p>实现步骤</p></li></ol><p>（1）action实现接口 ModelDriven</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataDemo2Action</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> <span class="keyword">implements</span> <span class="title">ModelDriven</span>&lt;<span class="title">User</span>&gt; </span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>（2）实现接口里面的方法 getModel方法</p><ul><li>把创建对象返回</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataDemo2Action</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> <span class="keyword">implements</span> <span class="title">ModelDriven</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> User <span class="title">getModel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> user;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> NONE;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（3）在action里面创建实体类对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">getModel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>使用模型驱动和属性封装注意问题：<br>在一个action中，获取表单数据可以属性封装，使用模型驱动封装，不能同时使用属性封装和模型驱动封装获取同一个表单数据。如果同时使用，执行模型驱动。</li></ol><h3 id="表达式封装（会用）"><a href="#表达式封装（会用）" class="headerlink" title="表达式封装（会用）"></a>表达式封装（会用）</h3><ol><li>实现过程<br>（1）使用表达式封装可以把表单数据封装到实体类对象里面<br>第一步 在action里面声明实体类<br>private User user;<br>第二步 生成实体类变量的set和get方法</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUser</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.user = user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>第三步 在表单输入项的name属性值里面写表达式形式<br></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user.username"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">password:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user.password"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">address:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user.address"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p></p><h3 id="比较表达式封装和模型驱动封装"><a href="#比较表达式封装和模型驱动封装" class="headerlink" title="比较表达式封装和模型驱动封装"></a>比较表达式封装和模型驱动封装</h3><p>使用表达式封装和模型驱动封装都可以把数据封装到实体类对象里面<br>不同点：<br>（1）使用模型驱动只能把数据封装到一个实体类对象里面<br>在一个action里面不能使用模型驱动把数据封装到不同的实体类对象里面<br>（2）使用表达式封装可以把数据封装到不同的实体类对象里面</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataDemo3Action</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> </span>&#123;</span><br><span class="line">   <span class="comment">//声明实体类</span></span><br><span class="line">  <span class="keyword">private</span> User user;</span><br><span class="line">   <span class="keyword">private</span> Book book;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Book <span class="title">getBook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> book;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBook</span><span class="params">(Book book)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.book = book;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//生成实体类变量的set和get方法</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> user;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUser</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.user = user;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">      System.out.println(user);</span><br><span class="line">      System.out.println(book.getBname());</span><br><span class="line">      <span class="keyword">return</span> NONE;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"$&#123;pageContext.request.contextPath&#125;/data3.action"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user.username"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    password:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user.password"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    address:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user.address"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    bname:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"book.bname"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="封装到集合里面"><a href="#封装到集合里面" class="headerlink" title="封装到集合里面"></a>封装到集合里面</h3><ol><li>封装数据到List集合</li></ol><p>第一步 在action声明List<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> List&lt;User&gt; list;</span><br></pre></td></tr></table></figure><p></p><p>第二步 生成list变量的set和get方法</p><p>第三步 在表单输入项里面写表达式<br></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"$&#123;pageContext.request.contextPath&#125;/list.action"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"list[0].username"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    password:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"list[0].password"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    address:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"list[0].address"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"list[1].username"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    password:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"list[1].password"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    address:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"list[1].address"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p></p><ol start="2"><li>封装数据到Map集合</li></ol><p>第一步 声明map集合<br>private Map&lt;String,User&gt; map;<br>第二步 生成get和set方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String,User&gt; <span class="title">getMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMap</span><span class="params">(Map&lt;String,User&gt; map)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.map = map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>第三步 在表单输入项的name属性值里面写表达式<br></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"$&#123;pageContext.request.contextPath&#125;/map.action"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置key的值 ['key值']</span></span><br><span class="line"><span class="comment">           设置value值 --&gt;</span></span><br><span class="line">    username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"map['one'].username"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    password:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"map['one'].password"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    address:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"map['one'].address"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"map['two'].username"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    password:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"map['two'].password"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    address:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"map['two'].address"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>Just for fun!</div> <button id="rewardButton" disable="enable" onclick='var qr=document.getElementById("QR");"none"===qr.style.display?qr.style.display="block":qr.style.display="none"'> <span>打赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"> <img id="wechat_qr" src="/images/wechatpay.jpg" alt="Qsx 微信支付"><p>微信支付</p></div></div></div></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------<i class="fa fa-paw"></i> 文章已经到尾<i class="fa fa-paw"></i> -------------</div></div></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/学习/" rel="tag"># 学习</a> <a href="/tags/框架/" rel="tag"># 框架</a> <a href="/tags/struts2/" rel="tag"># struts2</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/posts/14042445.html" rel="next" title="Spring 框架学习(二)"><i class="fa fa-chevron-left"></i> Spring 框架学习(二)</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/posts/3a01fcdf.html" rel="prev" title="struts2学习(二）">struts2学习(二）<i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap"> 站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Qsx"><p class="site-author-name" itemprop="name">Qsx</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">11</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/index.html"><span class="site-state-item-count">4</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/index.html"><span class="site-state-item-count">11</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/Shelhon" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:ppp00qqq@163.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="http://weibo.com/qsxmybaby" target="_blank" title="微博"><i class="fa fa-fw fa-weibo"></i> 微博</a></span><span class="links-of-author-item"><a href="https://zhihu.com/people/shelhon" target="_blank" title="知乎"><i class="fa fa-fw fa-globe"></i> 知乎</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="https://www.kofes.cn/" title="cz" target="_blank">cz</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Struts2-概述"><span class="nav-number">1.</span> <span class="nav-text">Struts2 概述</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#struts2-框架入门"><span class="nav-number">2.</span> <span class="nav-text">struts2 框架入门</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#第一个例子"><span class="nav-number">2.1.</span> <span class="nav-text">第一个例子</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看源码"><span class="nav-number">2.2.</span> <span class="nav-text">查看源码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#struts-配置"><span class="nav-number">2.3.</span> <span class="nav-text">struts 配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#struts2核心配置文件"><span class="nav-number">2.3.1.</span> <span class="nav-text">struts2核心配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#标签package"><span class="nav-number">2.3.1.1.</span> <span class="nav-text">标签package</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#标签action"><span class="nav-number">2.3.1.2.</span> <span class="nav-text">标签action</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#标签result"><span class="nav-number">2.3.1.3.</span> <span class="nav-text">标签result</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#struts2常量配置"><span class="nav-number">2.3.2.</span> <span class="nav-text">struts2常量配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分模块开发"><span class="nav-number">2.3.3.</span> <span class="nav-text">分模块开发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#action编写方式"><span class="nav-number">2.3.4.</span> <span class="nav-text">action编写方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#访问action里面的方法"><span class="nav-number">2.3.5.</span> <span class="nav-text">访问action里面的方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#结果页面配置"><span class="nav-number">2.4.</span> <span class="nav-text">结果页面配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Result标签的type属性"><span class="nav-number">2.5.</span> <span class="nav-text">Result标签的type属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Action获取表单提交数据"><span class="nav-number">2.6.</span> <span class="nav-text">Action获取表单提交数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用ActionContext类获取"><span class="nav-number">2.6.1.</span> <span class="nav-text">使用ActionContext类获取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用ServletActionContext类获取"><span class="nav-number">2.6.2.</span> <span class="nav-text">使用ServletActionContext类获取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用接口注入（了解）"><span class="nav-number">2.6.3.</span> <span class="nav-text">使用接口注入（了解）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在action操作域对象"><span class="nav-number">2.7.</span> <span class="nav-text">在action操作域对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Struts2封装获取表单数据方式"><span class="nav-number">2.8.</span> <span class="nav-text">Struts2封装获取表单数据方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#原始方式获取表单封装到实体类对象"><span class="nav-number">2.8.1.</span> <span class="nav-text">原始方式获取表单封装到实体类对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性封装"><span class="nav-number">2.8.2.</span> <span class="nav-text">属性封装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模型驱动封装（重点）"><span class="nav-number">2.8.3.</span> <span class="nav-text">模型驱动封装（重点）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#表达式封装（会用）"><span class="nav-number">2.8.4.</span> <span class="nav-text">表达式封装（会用）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#比较表达式封装和模型驱动封装"><span class="nav-number">2.8.5.</span> <span class="nav-text">比较表达式封装和模型驱动封装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#封装到集合里面"><span class="nav-number">2.8.6.</span> <span class="nav-text">封装到集合里面</span></a></li></ol></li></ol></li></ol></div></div></section><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">Qsx</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span class="post-meta-item-text">Site words total count&#58;</span> <span title="Site words total count">85.0k</span></div><div class="busuanzi-count"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span><span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></div></footer></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/love.js"></script></body></html>